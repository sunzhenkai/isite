webpackJsonp([3],{"70SM":function(t,e){},AkUR:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",[e("router-view")],1)},staticRenderFns:[]};var o=n("VU/8")({},i,!1,function(t){n("70SM")},"data-v-7e6627ea",null).exports,s={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("el-menu",{staticClass:"el-menu-demo",staticStyle:{display:"flex","justify-content":"center"},attrs:{"default-active":t.activeIndex,"collapse-transition":"",mode:"horizontal"}},[n("el-menu-item",{staticClass:"nav-bar-menu-item brand m-x-5",staticStyle:{border:"none !important",position:"absolute",left:"0"},attrs:{href:"/"},on:{click:function(e){t.$router.push({path:"/"})}}},[n("img",{staticStyle:{width:"1.8rem"},attrs:{src:"/static/img/logo.png"}})]),t._v(" "),n("el-menu-item",{attrs:{index:Math.random().toString()},on:{click:function(e){t.$router.push({path:"/article/list/"})}}},[t._v("文章")]),t._v(" "),t._l(t.categoryOptions,function(e,i){return[e.children&&e.children.length>0?n("el-submenu",{attrs:{index:(Date.now()+Math.random()).toString()+"1"}},[n("template",{slot:"title"},[t._v(t._s(e.name))]),t._v(" "),t._l(e.children,function(e,i){return n("el-menu-item",{key:Math.random(),attrs:{index:Math.random().toString()},on:{click:function(n){t.$router.push({path:"/article/list/?cate="+encodeURIComponent(e.name)})}}},[t._v(t._s(e.name))])})],2):n("el-menu-item",{attrs:{index:(Date.now()+Math.random()).toString()+"2"},on:{click:function(n){t.$router.push({path:"/article/list/?cate="+encodeURIComponent(e.name)})}}},[t._v(t._s(e.name))])]}),t._v(" "),n("el-menu-item",{staticStyle:{position:"absolute",right:"0",border:"none !important"}},[t.isLogin?n("div",{staticClass:"user-info-wrp"},[n("el-popover",{attrs:{placement:"bottom",width:"100",trigger:"click"},model:{value:t.userInfoPopVisible,callback:function(e){t.userInfoPopVisible=e},expression:"userInfoPopVisible"}},[n("div",{staticClass:"popover-menu"},[n("a",{staticClass:"popover-menu-item m-y-1",attrs:{href:"javascript: void(0)"},on:{click:t.onWriteArticleClick}},[t._v("写文章")]),t._v(" "),n("a",{staticClass:"popover-menu-item m-y-1",attrs:{href:"javascript: void(0)"},on:{click:t.logout}},[t._v("退出")])]),t._v(" "),n("el-button",{staticClass:"none-border",attrs:{slot:"reference",plain:""},slot:"reference"},[t._v(t._s(t.userInfo?t.userInfo.username:""))])],1)],1):n("div",{staticClass:"user-info-wrp"},[n("el-button",{staticClass:"none-border",attrs:{plain:""},on:{click:t.showLoginModal}},[t._v("登录")]),t._v(" "),n("el-button",{on:{click:t.showRegisterModal}},[t._v("注册")])],1)])],2)},staticRenderFns:[]};var a=n("VU/8")({name:"HeaderComponent",data:function(){return{userInfoPopVisible:!1,activeMenuItem:0,activeIndex:"1"}},computed:{isLogin:{get:function(){return this.$store.getters.token&&this.$store.getters.token.length>10}},userInfo:{get:function(){return this.isLogin?this.$store.getters.userInfo:null}},categoryOptions:function(){return this.$store.getters.categories}},methods:{showLoginModal:function(){this.$store.dispatch("actionShowLoginRegisterModal",{actionIsLogin:!0})},showRegisterModal:function(){this.$store.dispatch("actionShowLoginRegisterModal",{actionIsLogin:!1})},logout:function(){this.userInfoPopVisible=!1,this.$store.dispatch("actionLogout")},onWriteArticleClick:function(){this.userInfoPopVisible=!1,this.$router.push({name:"writeArticle"})}}},s,!1,function(t){n("uHWG")},"data-v-5c1754ec",null).exports,r=n("zL8q"),c={name:"LoginRegisterModal",data:function(){return{username:"",password:""}},computed:{actionIsLogin:{get:function(){return this.$store.getters.getActionIsLogin},set:function(t){this.$store.dispatch("actionSetActionIsLogin",{actionIsLogin:t})}},modalVisible:{get:function(){return this.$store.state.UserStore.loginRegisterModalVisible}}},methods:{closeModal:function(){this.$store.dispatch("actionHideLoginRegisterModal")},actionLoginOrRegister:function(){var t=this,e={username:this.username,password:this.password};this.actionIsLogin?this.$store.dispatch("actionObtainToken",{data:e}).then(function(e){t.closeModal(),Object(r.Message)({message:"登录成功!",type:"success",duration:1e3})}).catch(function(t){console.log(t)}):this.$store.dispatch("actionUserRegister",{data:e}).then(function(e){t.closeModal(),Object(r.Message)({message:"注册成功!",type:"success",duration:1e3})})}}},l={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("el-dialog",{attrs:{visible:t.modalVisible,width:"450px",title:"登录 / 注册"},on:{close:t.closeModal}},[n("el-form",[n("el-form-item",[n("el-input",{model:{value:t.username,callback:function(e){t.username=e},expression:"username"}},[n("icon",{staticClass:"el-input__icon",attrs:{slot:"suffix",name:"user"},slot:"suffix"})],1)],1),t._v(" "),n("el-form-item",[n("el-input",{attrs:{type:"password"},model:{value:t.password,callback:function(e){t.password=e},expression:"password"}},[n("icon",{staticClass:"el-input__icon",attrs:{slot:"suffix",name:"lock"},slot:"suffix"})],1),t._v(" "),n("a",{staticStyle:{"margin-top":"50px"},attrs:{href:"javascript: void(0)"},on:{click:function(e){t.actionIsLogin=!t.actionIsLogin}}},[t._v(t._s(t.actionIsLogin?"还没有账号？点击注册":"已有账号？点击登录"))])],1),t._v(" "),n("el-button",{on:{click:t.actionLoginOrRegister}},[t._v(t._s(t.actionIsLogin?"登录":"注册"))])],1)],1)},staticRenderFns:[]};var u={name:"LayoutView",components:{AppMain:o,HeaderBar:a,LoginRegisterModal:n("VU/8")(c,l,!1,function(t){n("WivM")},"data-v-764d8e0a",null).exports}},d={render:function(){var t=this.$createElement,e=this._self._c||t;return e("el-container",[e("el-header",[e("header-bar"),this._v(" "),e("login-register-modal")],1),this._v(" "),e("el-main",{attrs:{id:"appMain"}},[e("app-main")],1)],1)},staticRenderFns:[]};var p=n("VU/8")(u,d,!1,function(t){n("cD6y")},"data-v-7cf72423",null);e.default=p.exports},WivM:function(t,e){},cD6y:function(t,e){},uHWG:function(t,e){}});
//# sourceMappingURL=3.dcfae7d4ec4c33877890.js.map